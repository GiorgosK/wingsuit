{# SETTINGS #}
{% set tag_name = tag_name|default('div') %}
{% set attributes = attributes|default(create_attribute()) %}
{% set icon_size = icon_size|default('default') %}

{% set classes = [
  'flex items-center justify-center inline-flex border-0 py-1 px-2 focus:outline-none rounded',
  pattern_configuration('button', variant, 'colors')[colors],
  expanded == 'full' ? 'w-full',
  pattern_configuration('button', variant, 'size')['text'][size],
  icon_alignment == 'left' ? 'flex-row-reverse' : 'flex-row',
] %}

{% set icon_size = ([
  icon_alignment == 'left' ? 'mr-2' : 'ml-2',
  pattern_configuration('button', variant, 'size')['icon'][size],
]) | sort | join(' ') | trim %}

{% if url is not empty %}
  {% set attributes = attributes.setAttribute('href', url) %}
  {% set tag_name = 'a' %}
{% endif %}

{# TEMPLATE #}
<{{ tag_name }} {{ attributes.addClass(classes | sort | join(' ') | trim) }}>
  {{ text }}
  {% if icon is not empty %}
    {% include "@atoms/svg/_svg--icon.twig" with {
      icon: icon,
      size: icon_size,
    } only %}
  {% endif %}
</{{ tag_name }}>
